import{z as U,g as l,a as m,b as i,h as S,d as e,t as o,j as g,k as x,v as p,f as y,y as P,F as f,q as _,p as k,B,s as v,o as n}from"./app-IggChIWS.js";import{_ as L}from"./AuthenticatedLayout-CsDyOoFW.js";import{C as h,e as O}from"./flatpickr-ROq2-9G-.js";import{u as T,_ as w,a as $}from"./useImageDropped-ClZR24Qj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BoklzHPy.js";const N={class:"p-6 border-t border-gray-100 dark:border-gray-800 sm:p-6"},G={class:"space-y-5"},I={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},R={class:"grid grid-cols-4 gap-4 p-6"},A={class:"col-span-3 space-y-6"},q={key:0,class:"text-red-500 text-xs flex justify-end"},Y={key:0,class:"text-red-500 text-xs flex justify-end"},J={class:"mt-1 text-xs text-gray-400 text-right"},W={key:0,class:"text-red-500 text-xs flex justify-end"},Z={class:"mt-1 text-xs text-gray-400 text-right"},K={key:0,class:"text-red-500 text-xs flex justify-end"},Q={key:0,class:"text-red-500 text-xs flex justify-end"},X={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},ee={class:"grid grid-cols-4 gap-4 p-6"},re={class:"col-span-3 space-y-6"},te={key:0,class:"text-red-500 text-xs flex justify-end"},ae={key:0,class:"text-red-500 text-xs flex justify-end"},de={class:"relative grid grid-cols-2 gap-4"},se={key:0,class:"text-red-500 text-xs flex justify-end"},oe={key:0,class:"text-red-500 text-xs flex justify-end"},le={key:0,class:"text-red-500 text-xs flex justify-end"},ne={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},ie={class:"grid grid-cols-4 gap-4 p-6"},ge={class:"relative"},ue={key:0,class:"text-red-500 text-xs flex justify-end"},be={class:"relative"},xe={key:0,class:"text-red-500 text-xs flex justify-end"},pe={class:"mb-3"},ce={class:"relative"},me={key:0,class:"text-red-500 text-xs flex justify-end"},ye={class:"col-span-3"},fe={class:"relative"},ke=["value"],ve={key:0,class:"text-red-500 text-xs flex justify-end"},Ve=Object.assign({layout:L},{__name:"CourseEdit",props:{course:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},auth:{type:Object,default:()=>({})},bank_details:{type:Object,default:()=>({})}},setup(d){const c=d,t=B({_method:"put",id:null,topic:"",date:"",time:"",description:"",duration:"",objectives:"",organized_by:"",member_price:"",resident_price:"",guest_price:"",bank_detail_id:""}),u=T({maxSizeMB:1,acceptedTypes:["image/jpeg","image/png","image/jpg","image/webp"],onError:s=>{alert(s)}}),b=$({acceptedTypes:["application/pdf"],maxSizeMB:5,onError:s=>alert(s)}),j=k(()=>u.file.value?u.preview.value:c.course?.cover_url?c.course?.cover_url:null),D=k(()=>b.file.value?b.preview.value:c.course?.program_url?{type:"application/pdf",isFile:!0,size:null,name:c.course?.program_url.split("/").pop()}:null),z=s=>{if(!s)return"";const r=new Date(s),a=r.getHours().toString().padStart(2,"0"),M=r.getMinutes().toString().padStart(2,"0");return`${a}:${M}`},C=s=>{t.id=s.id||null,t.topic=s.topic||"",t.description=s.description||"",t.objectives=s.objectives||"",t.date=s.date||"",t.time=z(s.date)||"",t.duration=s.duration||"",t.organized_by=s.organized_by||"",t.link=s.link||"",t.member_price=s.member_price||"",t.resident_price=s.resident_price||"",t.guest_price=s.guest_price||"",t.bank_detail_id=s.bank_detail_id||""};U(()=>c.course,s=>{s&&s.id&&C(s)},{immediate:!0});const V=()=>{if(!u.file.value&&!c.course?.cover_url){alert("Por favor selecciona una imagen de portada para el curso");return}u.file.value&&(t.cover_image=u.file.value),b.file.value&&(t.program_pdf=b.file.value??D.value),v.post(route("courses.update",t.id),t,{forceFormData:!0})},H=()=>{v.get("/courses")},F={locale:O.Spanish,dateFormat:"Y-m-d",altInput:!0,altFormat:"F j, Y",wrap:!1},E={enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!1,minuteIncrement:1,wrap:!1};return(s,r)=>(n(),l(f,null,[m(i(S),{title:"Cursos"}),e("div",N,[e("div",G,[r[36]||(r[36]=e("div",{class:""},[e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Editar Curso "),e("p",{class:"text-sm text-gray-500"}," Edita los detalles de un curso desde esta sección ")],-1)),e("div",I,[e("div",R,[r[17]||(r[17]=e("div",{class:""},[e("span",{class:"text-sm text-gray-700"}," Datos Generales")],-1)),e("div",A,[e("div",null,[r[12]||(r[12]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Foto de Portada ",-1)),m(w,{preview:j.value,"is-dragging":i(u).isDragging.value,hint:"JPG, PNG, WEBP (max. 1MB)",onChange:i(u).handleChange,onDrop:i(u).handleDrop,onDragEnter:i(u).handleDragEnter,onDragLeave:i(u).handleDragLeave,onRemove:i(u).reset},null,8,["preview","is-dragging","onChange","onDrop","onDragEnter","onDragLeave","onRemove"]),d.errors.cover_image?(n(),l("span",q,o(d.errors.cover_image),1)):g("",!0)]),e("div",null,[r[13]||(r[13]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Tema del Curso ",-1)),x(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=a=>t.topic=a),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.topic]]),d.errors.topic?(n(),l("span",Y,o(d.errors.topic),1)):g("",!0)]),e("div",null,[r[14]||(r[14]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Descripcion ",-1)),x(e("textarea",{"onUpdate:modelValue":r[1]||(r[1]=a=>t.description=a),rows:"3",maxlength:"5005",class:"dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.description]]),e("p",J,o(t.description.length)+"/5000",1),d.errors.description?(n(),l("span",W,o(d.errors.description),1)):g("",!0)]),e("div",null,[r[15]||(r[15]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Objetivos ",-1)),x(e("textarea",{"onUpdate:modelValue":r[2]||(r[2]=a=>t.objectives=a),rows:"3",maxlength:"2005",class:"dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.objectives]]),e("p",Z,o(t.objectives.length)+"/2000",1),d.errors.objectives?(n(),l("span",K,o(d.errors.objectives),1)):g("",!0)]),e("div",null,[r[16]||(r[16]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Organizado por ",-1)),x(e("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=a=>t.organized_by=a),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.organized_by]]),d.errors.organized_by?(n(),l("span",Q,o(d.errors.organized_by),1)):g("",!0)])])])]),e("div",X,[e("div",ee,[r[23]||(r[23]=e("div",{class:""},[e("span",{class:"text-sm text-gray-700"}," Detalles Adicionales")],-1)),e("div",re,[e("div",null,[r[18]||(r[18]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[y(" Link de conexión "),e("span",{class:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize bg-gray-200 text-gray-700 dark:bg-gray-500/10 dark:text-gray-400"},"opcional")],-1)),x(e("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=a=>t.link=a),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.link]]),d.errors.link?(n(),l("span",te,o(d.errors.link),1)):g("",!0)]),e("div",null,[r[19]||(r[19]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[y(" Programa del Curso "),e("span",{class:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize bg-gray-200 text-gray-700 dark:bg-gray-500/10 dark:text-gray-400"},"opcional")],-1)),m(w,{preview:i(b).preview.value,"is-dragging":i(b).isDragging.value,accept:"application/pdf",label:"Arrastra tu PDF aqui o haz clic para seleccionar",hint:"PDF (max. 5MB)",onChange:i(b).handleChange,onDrop:i(b).handleDrop,onDragEnter:i(b).handleDragEnter,onDragLeave:i(b).handleDragLeave,onRemove:i(b).reset},null,8,["preview","is-dragging","onChange","onDrop","onDragEnter","onDragLeave","onRemove"]),d.errors.pdf_file?(n(),l("span",ae,o(d.errors.pdf_file),1)):g("",!0)]),e("div",null,[r[21]||(r[21]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Fecha y Hora de Inicio ",-1)),e("div",de,[e("div",null,[m(i(h),{modelValue:t.time,"onUpdate:modelValue":r[5]||(r[5]=a=>t.time=a),config:E,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Selecciona una hora"},null,8,["modelValue"]),r[20]||(r[20]=e("span",{class:"absolute text-gray-500 -translate-y-1/2 right-3 top-1/2 dark:text-gray-400"},[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",class:"text-8xl text-stone-800 dark:text-stone-200"},[e("path",{fill:"currentColor",d:"M5.673 0a.7.7 0 0 1 .7.7v1.309h7.517v-1.3a.7.7 0 0 1 1.4 0v1.3H18a2 2 0 0 1 2 1.999v13.993A2 2 0 0 1 18 20H2a2 2 0 0 1-2-1.999V4.008a2 2 0 0 1 2-1.999h2.973V.699a.7.7 0 0 1 .7-.699ZM1.4 7.742v10.259a.6.6 0 0 0 .6.6h16a.6.6 0 0 0 .6-.6V7.756zm5.267 6.877v1.666H5v-1.666zm4.166 0v1.666H9.167v-1.666zm4.167 0v1.666h-1.667v-1.666zm-8.333-3.977v1.666H5v-1.666zm4.166 0v1.666H9.167v-1.666zm4.167 0v1.666h-1.667v-1.666zM4.973 3.408H2a.6.6 0 0 0-.6.6v2.335l17.2.014V4.008a.6.6 0 0 0-.6-.6h-2.71v.929a.7.7 0 0 1-1.4 0v-.929H6.373v.92a.7.7 0 0 1-1.4 0z"})])],-1)),d.errors.time?(n(),l("span",se,o(d.errors.time),1)):g("",!0)]),e("div",null,[m(i(h),{modelValue:t.date,"onUpdate:modelValue":r[6]||(r[6]=a=>t.date=a),config:F,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Selecciona una fecha"},null,8,["modelValue"]),d.errors.date?(n(),l("span",oe,o(d.errors.date),1)):g("",!0)])])]),e("div",null,[r[22]||(r[22]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Duracion (en horas) ",-1)),x(e("input",{type:"number","onUpdate:modelValue":r[7]||(r[7]=a=>t.duration=a),min:"1",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.duration]]),d.errors.duration?(n(),l("span",le,o(d.errors.duration),1)):g("",!0)])])])]),e("div",ne,[e("div",ie,[r[33]||(r[33]=e("div",{class:""},[e("span",{class:"text-sm text-gray-700"},"Costos")],-1)),e("div",null,[r[25]||(r[25]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Para miembros ",-1)),e("div",ge,[r[24]||(r[24]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-1 text-gray-500 dark:border-gray-800 dark:text-gray-400"}," $ ",-1)),x(e("input",{"onUpdate:modelValue":r[8]||(r[8]=a=>t.member_price=a),type:"number",min:"0",placeholder:"0.00",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pl-[62px] text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.member_price]])]),d.errors.member_price?(n(),l("span",ue,o(d.errors.member_price),1)):g("",!0)]),e("div",null,[r[27]||(r[27]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Para residentes ",-1)),e("div",be,[r[26]||(r[26]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-1 text-gray-500 dark:border-gray-800 dark:text-gray-400"}," $ ",-1)),x(e("input",{"onUpdate:modelValue":r[9]||(r[9]=a=>t.resident_price=a),type:"number",min:"0",placeholder:"0.00",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pl-[62px] text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.resident_price]]),d.errors.resident_price?(n(),l("span",xe,o(d.errors.resident_price),1)):g("",!0)])]),e("div",pe,[r[29]||(r[29]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Para no miembros (invitados) ",-1)),e("div",ce,[r[28]||(r[28]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-1 text-gray-500 dark:border-gray-800 dark:text-gray-400"}," $ ",-1)),x(e("input",{"onUpdate:modelValue":r[10]||(r[10]=a=>t.guest_price=a),type:"number",min:"0",placeholder:"0.00",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pl-[62px] text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.guest_price]]),d.errors.guest_price?(n(),l("span",me,o(d.errors.guest_price),1)):g("",!0)])]),r[34]||(r[34]=e("div",{class:""},[e("span",{class:"text-sm text-gray-700"},"Detalles de pago")],-1)),e("div",ye,[r[32]||(r[32]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Cuenta bancaria para transferencias ",-1)),e("div",fe,[r[31]||(r[31]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-1 text-gray-500 dark:border-gray-800 dark:text-gray-400"},[e("svg",{width:"20",height:"20",viewBox:"0 0 576 512",xmlns:"http://www.w3.org/2000/svg",class:"text-8xl",fill:"currentColor"},[e("path",{d:"M470.1 231.3s7.6 37.2 9.3 45H446c3.3-8.9 16-43.5 16-43.5-.2.3 3.3-9.1 5.3-14.9zM576 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM152.5 331.2 215.7 176h-42.5l-39.3 106-4.3-21.5-14-71.4c-2.3-9.9-9.4-12.7-18.2-13.1H32.7l-.7 3.1c15.8 4 29.9 9.8 42.2 17.1l35.8 135zm94.4.2L272.1 176h-40.2l-25.1 155.4zm139.9-50.8c.2-17.7-10.6-31.2-33.7-42.3-14.1-7.1-22.7-11.9-22.7-19.2.2-6.6 7.3-13.4 23.1-13.4 13.1-.3 22.7 2.8 29.9 5.9l3.6 1.7 5.5-33.6c-7.9-3.1-20.5-6.6-36-6.6-39.7 0-67.6 21.2-67.8 51.4-.3 22.3 20 34.7 35.2 42.2 15.5 7.6 20.8 12.6 20.8 19.3-.2 10.4-12.6 15.2-24.1 15.2-16 0-24.6-2.5-37.7-8.3l-5.3-2.5-5.6 34.9c9.4 4.3 26.8 8.1 44.8 8.3 42.2.1 69.7-20.8 70-53zM528 331.4 495.6 176h-31.1c-9.6 0-16.9 2.8-21 12.9l-59.7 142.5H426s6.9-19.2 8.4-23.3H486c1.2 5.5 4.8 23.3 4.8 23.3z"})])],-1)),x(e("select",{name:"bank_detail_id",id:"bank_detail_id","onUpdate:modelValue":r[11]||(r[11]=a=>t.bank_detail_id=a),class:"w-full py-2.5 pl-[55px] rounded-lg border border-gray-300 px-3 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[r[30]||(r[30]=e("option",{value:""},"Seleccionar cuenta",-1)),(n(!0),l(f,null,_(d.bank_details,a=>(n(),l("option",{key:a.id,value:a.id},o(a.bank)+" | "+o(a.account_number||a.clabe_number),9,ke))),128))],512),[[P,t.bank_detail_id]])]),d.errors.bank_detail_id?(n(),l("span",ve,o(d.errors.bank_detail_id),1)):g("",!0)])])]),e("div",{class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},[e("div",{class:"grid grid-cols-4 gap-4 p-6"},[r[35]||(r[35]=e("div",{class:"col-span-2"},[e("span",{class:"text-sm text-gray-700"})],-1)),e("div",{class:"col-span-2 flex justify-end items-center"},[e("button",{onClick:H,class:"rounded-lg border border-gray-300 bg-transparent px-4 mx-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100"}," Cancelar "),e("button",{onClick:V,class:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"}," Guardar Curso ")])])])])])],64))}});export{Ve as default};
