import{z as P,g as n,a as m,b as s,h as S,d as e,t as l,j as u,k as x,v as p,f,F as B,p as k,B as M,s as h,o as i}from"./app-IUHsy1AL.js";import{_ as T}from"./AuthenticatedLayout-BVny9iAF.js";import{e as L,C as v}from"./flatpickr-CcMt3y8G.js";import{u as O,_ as w,a as $}from"./useImageDropped-Du9ZJ3E-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-C32J0gx3.js";const H={class:"p-6 border-t border-gray-100 dark:border-gray-800 sm:p-6"},N={class:"space-y-5"},G={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},I={class:"grid grid-cols-4 gap-4 p-6"},R={class:"col-span-3 space-y-6"},Z={key:0,class:"text-red-500 text-xs flex justify-end"},Y={key:0,class:"text-red-500 text-xs flex justify-end"},q={class:"mt-1 text-xs text-gray-400 text-right"},A={key:0,class:"text-red-500 text-xs flex justify-end"},J={class:"mt-1 text-xs text-gray-400 text-right"},W={key:0,class:"text-red-500 text-xs flex justify-end"},K={class:"relative grid grid-cols-2 gap-4"},Q={key:0,class:"text-red-500 text-xs flex justify-end"},X={key:0,class:"text-red-500 text-xs flex justify-end"},_={key:0,class:"text-red-500 text-xs flex justify-end"},ee={key:0,class:"text-red-500 text-xs flex justify-end"},re={key:0,class:"text-red-500 text-xs flex justify-end"},te={key:0,class:"text-red-500 text-xs flex justify-end"},ae={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},de={class:"grid grid-cols-4 gap-4 p-6"},oe={class:"relative"},se={key:0,class:"text-red-500 text-xs flex justify-end"},le={class:"relative"},ne={class:"relative"},ce=Object.assign({layout:T},{__name:"CourseEdit",props:{course:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},auth:{type:Object,default:()=>({})}},setup(d){const c=d,t=M({_method:"put",id:null,example:"",topic:"",date:"",time:"",description:"",duration:"",objectives:"",organized_by:"",member_price:"",resident_price:"",guest_price:"",bank:"",account_number:"",clabe:"",account_holder:""}),g=O({maxSizeMB:1,acceptedTypes:["image/jpeg","image/png","image/jpg","image/webp"],onError:a=>{alert(a)}}),b=$({acceptedTypes:["application/pdf"],maxSizeMB:5,onError:a=>alert(a)}),C=k(()=>g.file.value?g.preview.value:c.course?.cover_url?c.course?.cover_url:null),y=k(()=>b.file.value?b.preview.value:c.course?.program_url?{type:"application/pdf",isFile:!0,size:null,name:c.course?.program_url.split("/").pop()}:null),D=a=>{if(!a)return"";const r=new Date(a),o=r.getHours().toString().padStart(2,"0"),U=r.getMinutes().toString().padStart(2,"0");return`${o}:${U}`},j=a=>{t.id=a.id||null,t.topic=a.topic||"",t.description=a.description||"",t.objectives=a.objectives||"",t.date=a.date||"",t.time=D(a.date)||"",t.duration=a.duration||"",t.organized_by=a.organized_by||"",t.link=a.link||"",t.member_price=a.member_price||"",t.resident_price=a.resident_price||"",t.guest_price=a.guest_price||"",t.bank=a.bank||"",t.account_number=a.account_number||"",t.clabe=a.clabe||"",t.account_holder=a.account_holder||""};P(()=>c.course,a=>{a&&a.id&&j(a)},{immediate:!0});const V=()=>{if(!g.file.value&&!c.course?.cover_url){alert("Por favor selecciona una imagen de portada para el curso");return}g.file.value&&(t.cover_image=g.file.value),b.file.value&&(t.program_pdf=b.file.value??y.value),h.post(route("courses.update",t.id),t,{forceFormData:!0})},z=()=>{h.get("/courses")},F={locale:L.Spanish,dateFormat:"Y-m-d",altInput:!0,altFormat:"F j, Y",wrap:!1},E={enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!1,minuteIncrement:1,wrap:!1};return(a,r)=>(i(),n(B,null,[m(s(S),{title:"Cursos"}),e("div",H,[e("div",N,[r[30]||(r[30]=e("div",{class:""},[e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Editar Curso "),e("p",{class:"text-sm text-gray-500"}," Edita los detalles de un curso desde esta sección ")],-1)),e("div",G,[e("div",I,[r[21]||(r[21]=e("div",{class:""},[e("span",{class:"text-sm text-gray-700"}," Datos Generales")],-1)),e("div",R,[e("div",null,[r[11]||(r[11]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Foto de Portada ",-1)),m(w,{preview:C.value,"is-dragging":s(g).isDragging.value,hint:"JPG, PNG, WEBP (max. 1MB)",onChange:s(g).handleChange,onDrop:s(g).handleDrop,onDragEnter:s(g).handleDragEnter,onDragLeave:s(g).handleDragLeave,onRemove:s(g).reset},null,8,["preview","is-dragging","onChange","onDrop","onDragEnter","onDragLeave","onRemove"]),d.errors.cover_image?(i(),n("span",Z,l(d.errors.cover_image),1)):u("",!0)]),e("div",null,[r[12]||(r[12]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Tema del Curso ",-1)),x(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=o=>t.topic=o),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.topic]]),d.errors.topic?(i(),n("span",Y,l(d.errors.topic),1)):u("",!0)]),e("div",null,[r[13]||(r[13]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Descripcion ",-1)),x(e("textarea",{"onUpdate:modelValue":r[1]||(r[1]=o=>t.description=o),rows:"2",maxlength:"500",class:"dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.description]]),e("p",q,l(t.description.length)+"/500",1),d.errors.description?(i(),n("span",A,l(d.errors.description),1)):u("",!0)]),e("div",null,[r[14]||(r[14]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Objetivos ",-1)),x(e("textarea",{"onUpdate:modelValue":r[2]||(r[2]=o=>t.objectives=o),rows:"3",maxlength:"1000",class:"dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.objectives]]),e("p",J,l(t.objectives.length)+"/1000",1),d.errors.objectives?(i(),n("span",W,l(d.errors.objectives),1)):u("",!0)]),e("div",null,[r[16]||(r[16]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Fecha y Hora de Inicio ",-1)),e("div",K,[e("div",null,[m(s(v),{modelValue:t.date,"onUpdate:modelValue":r[3]||(r[3]=o=>t.date=o),config:F,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Selecciona una fecha"},null,8,["modelValue"]),d.errors.date?(i(),n("span",Q,l(d.errors.date),1)):u("",!0)]),e("div",null,[m(s(v),{modelValue:t.time,"onUpdate:modelValue":r[4]||(r[4]=o=>t.time=o),config:E,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Selecciona una hora"},null,8,["modelValue"]),r[15]||(r[15]=e("span",{class:"absolute text-gray-500 -translate-y-1/2 right-3 top-1/2 dark:text-gray-400"},[e("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.04175 9.99984C3.04175 6.15686 6.1571 3.0415 10.0001 3.0415C13.8431 3.0415 16.9584 6.15686 16.9584 9.99984C16.9584 13.8428 13.8431 16.9582 10.0001 16.9582C6.1571 16.9582 3.04175 13.8428 3.04175 9.99984ZM10.0001 1.5415C5.32867 1.5415 1.54175 5.32843 1.54175 9.99984C1.54175 14.6712 5.32867 18.4582 10.0001 18.4582C14.6715 18.4582 18.4584 14.6712 18.4584 9.99984C18.4584 5.32843 14.6715 1.5415 10.0001 1.5415ZM9.99998 10.7498C9.58577 10.7498 9.24998 10.4141 9.24998 9.99984V5.4165C9.24998 5.00229 9.58577 4.6665 9.99998 4.6665C10.4142 4.6665 10.75 5.00229 10.75 5.4165V9.24984H13.3334C13.7476 9.24984 14.0834 9.58562 14.0834 9.99984C14.0834 10.4141 13.7476 10.7498 13.3334 10.7498H10.0001H9.99998Z",fill:""})])],-1)),d.errors.time?(i(),n("span",X,l(d.errors.time),1)):u("",!0)])])]),e("div",null,[r[17]||(r[17]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Duracion (en horas) ",-1)),x(e("input",{type:"number","onUpdate:modelValue":r[5]||(r[5]=o=>t.duration=o),min:"1",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.duration]]),d.errors.duration?(i(),n("span",_,l(d.errors.duration),1)):u("",!0)]),e("div",null,[r[18]||(r[18]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Organizado por ",-1)),x(e("input",{type:"text","onUpdate:modelValue":r[6]||(r[6]=o=>t.organized_by=o),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.organized_by]]),d.errors.organized_by?(i(),n("span",ee,l(d.errors.organized_by),1)):u("",!0)]),e("div",null,[r[19]||(r[19]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[f(" Link de conexión "),e("span",{class:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize bg-gray-200 text-gray-700 dark:bg-gray-500/10 dark:text-gray-400"},"opcional")],-1)),x(e("input",{type:"text","onUpdate:modelValue":r[7]||(r[7]=o=>t.link=o),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.link]]),d.errors.link?(i(),n("span",re,l(d.errors.link),1)):u("",!0)]),e("div",null,[r[20]||(r[20]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[f(" Programa del Curso "),e("span",{class:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize bg-gray-200 text-gray-700 dark:bg-gray-500/10 dark:text-gray-400"},"opcional")],-1)),m(w,{preview:y.value,"is-dragging":s(b).isDragging.value,accept:"application/pdf",label:"Arrastra tu PDF aqui o haz clic para seleccionar",hint:"PDF (max. 5MB)",onChange:s(b).handleChange,onDrop:s(b).handleDrop,onDragEnter:s(b).handleDragEnter,onDragLeave:s(b).handleDragLeave,onRemove:s(b).reset},null,8,["preview","is-dragging","onChange","onDrop","onDragEnter","onDragLeave","onRemove"]),d.errors.pdf_file?(i(),n("span",te,l(d.errors.pdf_file),1)):u("",!0)])])])]),e("div",ae,[e("div",de,[r[28]||(r[28]=e("div",{class:""},[e("span",{class:"text-sm text-gray-700"}," Costos")],-1)),e("div",null,[r[23]||(r[23]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Para miembros ",-1)),e("div",oe,[r[22]||(r[22]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-1 text-gray-500 dark:border-gray-800 dark:text-gray-400"}," $ ",-1)),x(e("input",{"onUpdate:modelValue":r[8]||(r[8]=o=>t.member_price=o),type:"number",min:"0",placeholder:"0.00",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pl-[62px] text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.member_price]])]),d.errors.member_price?(i(),n("span",se,l(d.errors.member_price),1)):u("",!0)]),e("div",null,[r[25]||(r[25]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Para residentes ",-1)),e("div",le,[r[24]||(r[24]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-1 text-gray-500 dark:border-gray-800 dark:text-gray-400"}," $ ",-1)),x(e("input",{"onUpdate:modelValue":r[9]||(r[9]=o=>t.resident_price=o),type:"number",min:"0",placeholder:"0.00",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pl-[62px] text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.resident_price]])])]),e("div",null,[r[27]||(r[27]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Para no miembros (invitados) ",-1)),e("div",ne,[r[26]||(r[26]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-1 text-gray-500 dark:border-gray-800 dark:text-gray-400"}," $ ",-1)),x(e("input",{"onUpdate:modelValue":r[10]||(r[10]=o=>t.guest_price=o),type:"number",min:"0",placeholder:"0.00",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pl-[62px] text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[p,t.guest_price]])])])])]),e("div",{class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},[e("div",{class:"grid grid-cols-4 gap-4 p-6"},[r[29]||(r[29]=e("div",{class:"col-span-2"},[e("span",{class:"text-sm text-gray-700"})],-1)),e("div",{class:"col-span-2 flex justify-end items-center"},[e("button",{onClick:z,class:"rounded-lg border border-gray-300 bg-transparent px-4 mx-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100"}," Cancelar "),e("button",{onClick:V,class:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"}," Guardar Curso ")])])])])])],64))}});export{ce as default};
