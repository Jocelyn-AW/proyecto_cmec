import{_ as V}from"./AuthenticatedLayout-BVny9iAF.js";import{I as z,g as T,a as m,b as o,h as $,d as s,w as n,t as l,f as c,F as q,J as D,s as u,o as H}from"./app-IUHsy1AL.js";import{u as O}from"./useAlert-BBJzmOi_.js";import{_ as B}from"./Alerta-dZUCNtrc.js";import{_ as M}from"./DataTable-BSxHPea8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-C32J0gx3.js";const A={class:"p-6 border-t border-gray-100 dark:border-gray-800 sm:p-6"},E={class:"space-y-5"},S=["href"],j=["onClick"],F=["onClick"],K=Object.assign({layout:V},{__name:"Index",props:{courses:{type:Object,default:()=>({})},flash:{type:Object,default:()=>({})},auth:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})}},setup(b){const{alertState:a,success:f,errorA:v,warning:h,hideAlert:p}=O(),i=b,d=D();z(()=>{(d.props.success||i.flash.success)&&f(d.props.success||i.flash.success),(d.props.error||i.flash.error)&&v(d.props.error||i.flash.error),(d.props.warning||i.flash.warning)&&h(d.props.warning||i.flash.warning)});const w=()=>{u.get(route("courses.new"))},x=r=>{u.get(route("courses.edit",r.id),{},{preserveState:!1})},y=r=>{h("¿Confirma que desea eliminar este curso? Esta acción no se puede deshacer.",{title:"Eliminar curso",buttonText:"Sí, eliminar",cancelText:"Cancelar",onConfirm:()=>{p(),u.delete(route("courses.delete",r))}})},_=r=>{r.program_url?window.open(r.program_url,"_blank"):h("Este curso no tiene un programa PDF asociado.",{title:"Sin programa",buttonText:"Aceptar"})},k=r=>{u.get(route("courses.gallery",r.id))},g=(r,t=50)=>r?r.length>t?r.substring(0,t)+"...":r:"";return(r,t)=>(H(),T(q,null,[m(o($),{title:"Cursos"}),s("div",A,[s("div",E,[t[5]||(t[5]=s("div",{class:""},[s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Cursos"),s("p",{class:"text-sm text-gray-500"},"Administra los cursos de tu aplicación desde esta sección")],-1)),m(M,{columns:[{label:"ID",key:"id"},{label:"Título",key:"topic"},{label:"Fecha",key:"date"},{label:"Descripción",key:"description"},{label:"Duración",key:"duration"},{label:"Organiza",key:"organized_by"},{label:"Costo Miembro",key:"member_price"},{label:"Costo Residente",key:"resident_price"},{label:"Costo Invitado",key:"guest_price"},{label:"Link",key:"link"}],paginator:i.courses,searchable:!0,"per-page-options":[5,10,15],"allow-create":!0,"allow-actions":!0,"allow-edit":!0,"allow-delete":!0,onCreate:w,onEdit:x,onDelete:y,only:["courses"]},{"cell-topic":n(({item:e})=>[c(l(g(e.topic,25)),1)]),"cell-description":n(({item:e})=>[c(l(g(e.description,40)),1)]),"cell-date":n(({item:e})=>[c(l(new Date(e.date).toLocaleDateString("en-GB")),1)]),"cell-duration":n(({item:e})=>[c(l(e.duration)+" "+l(e.duration>1?"horas":"hora"),1)]),"cell-member_price":n(({item:e})=>[c(" $"+l(e.member_price??""),1)]),"cell-resident_price":n(({item:e})=>[c(" $"+l(e.resident_price??""),1)]),"cell-guest_price":n(({item:e})=>[c(" $"+l(e.guest_price??""),1)]),"cell-link":n(({item:e})=>[s("a",{href:e.link,class:"text-blue-800"},l(g(e.link,20)),9,S)]),actionButtons:n(({item:e})=>[s("button",{title:"Ver Pdf",onClick:C=>_(e),class:"p-2 rounded-lg bg-red-20 text-red-500 hover:bg-red-600 hover:text-white transition-colors border border-red-100 hover:border-red-600"},[...t[3]||(t[3]=[s("svg",{width:"18",height:"18",fill:"currentcolor",class:"bi bi-filetype-pdf text-8xl w-4 h-4 dark:text-stone-200",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"})],-1)])],8,j),s("button",{title:"Ver galería",onClick:C=>k(e),class:"p-2 rounded-lg bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white transition-colors border border-indigo-100 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white"},[...t[4]||(t[4]=[s("svg",{width:"18",height:"18",fill:"currentColor",class:"text-8xl w-4 h-4",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M13 10V0H0v13h13zM1 1h11v8h-.755L8.681 5.681 7.522 6.895 5.274 3.014 1.698 9H1zm8.982 8H2.863l2.398-4.014L7.325 8.55 8.6 7.213zM1 12v-2h11v2zm16-9v13H4v-1.984h1V15h11V4h-2V3z"})],-1)])],8,F)]),_:1},8,["paginator"])])]),m(B,{show:o(a).show,message:o(a).message,title:o(a).title,type:o(a).type,buttonText:o(a).buttonText,cancelText:o(a).cancelText,onConfirm:t[0]||(t[0]=e=>o(a).onConfirm?o(a).onConfirm():o(p)()),onCancel:t[1]||(t[1]=e=>o(a).onCancel?o(a).onCancel():o(p)()),onClose:t[2]||(t[2]=e=>o(p)())},null,8,["show","message","title","type","buttonText","cancelText"])],64))}});export{K as default};
