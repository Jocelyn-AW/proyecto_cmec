import{o as a,g as o,d as e,f as y,t as p,F as h,q as f,n as k,j as u,s as B,x as C,z as A,k as S,y as z,v as L,r as b,K as M,a as j}from"./app-2vorYchG.js";const T={key:0,class:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2 py-3"},N={class:"text-sm text-gray-500 dark:text-gray-400"},O={class:"font-medium text-gray-700 dark:text-gray-200"},V={class:"font-medium text-gray-700 dark:text-gray-200"},D={class:"font-medium text-gray-700 dark:text-gray-200"},E={class:"flex items-center gap-1"},H=["onClick","disabled","innerHTML"],q={__name:"Pagination",props:{paginator:{type:Object,required:!0},preserveScroll:{type:Boolean,default:!0},only:{type:Array,default:()=>[]}},setup(t){const m=t,l=d=>{if(!d)return;const n={preserveScroll:m.preserveScroll,preserveState:!0};m.only.length>0&&(n.only=m.only),B.get(d,{},n)},v=d=>d.includes("Previous")?"Anterior":d.includes("Next")?"Siguiente":d;return(d,n)=>t.paginator.last_page>1?(a(),o("div",T,[e("p",N,[n[0]||(n[0]=y(" Mostrando ",-1)),e("span",O,p(t.paginator.from),1),n[1]||(n[1]=y(" a ",-1)),e("span",V,p(t.paginator.to),1),n[2]||(n[2]=y(" de ",-1)),e("span",D,p(t.paginator.total),1),n[3]||(n[3]=y(" resultados ",-1))]),e("nav",E,[(a(!0),o(h,null,f(t.paginator.links,(g,w)=>(a(),o("button",{key:w,onClick:P=>l(g.url),disabled:!g.url,class:k(["inline-flex items-center justify-center min-w-[36px] h-9 px-3 text-sm font-medium rounded-lg transition-colors",[g.active?"bg-zinc-900 text-white dark:bg-white dark:text-zinc-900":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800",g.url?"cursor-pointer":"opacity-40 cursor-not-allowed"]]),innerHTML:v(g.label)},null,10,H))),128))])])):u("",!0)}},U={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},_={class:"flex flex-col sm:flex-row items-center justify-between gap-4 px-6 py-4"},F={class:"flex grow justify-between items-center gap-3 w-full sm:w-auto"},K={key:0,class:"flex items-center gap-2"},Q=["value"],R={class:"flex gap-4"},G={key:0,class:"w-full sm:w-80"},I={class:"relative"},J=["placeholder"],W={key:1},X={class:"flex items-center gap-2"},Y={class:"overflow-x-auto"},Z={class:"w-full text-sm"},ee={class:"border-y border-gray-200 dark:border-gray-800"},te={key:0,class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"},re={class:"divide-y divide-gray-100 dark:divide-gray-800"},ae={key:0,class:"sticky whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},oe=["onClick"],se=["onClick"],ne={key:0},le=["colspan"],ie={class:"border-t border-gray-200 px-4 dark:border-gray-800"},ue={__name:"DataTable",props:{paginator:{type:Object,required:!0},columns:{type:Array,required:!0},only:{type:Array,default:()=>[]},searchable:{type:Boolean,default:!1},searchParam:{type:String,default:"search"},searchPlaceholder:{type:String,default:"Buscar..."},perPageOptions:{type:Array,default:()=>[]},perPageParam:{type:String,default:"per_page"},allowActions:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowEdit:{type:Boolean,default:!1},allowDelete:{type:Boolean,default:!1}},emits:["create","edit","delete"],setup(t,{emit:m}){const l=t,v=m,d=new URLSearchParams(window.location.search),n=C(l.perPageOptions.length>0&&Number(d.get(l.perPageParam))||l.paginator.per_page),g=()=>{const i={};return x.value&&(i[l.searchParam]=x.value),l.perPageOptions.length>0&&(i[l.perPageParam]=n.value),i},w=(i,s={})=>{B.get(window.location.pathname,i,{preserveState:!0,preserveScroll:!0,only:l.only.length>0?l.only:void 0,replace:!0,...s})},P=()=>{w({...g(),page:1})},x=C(d.get(l.searchParam)||"");let $=null;return A(x,i=>{clearTimeout($),$=setTimeout(()=>{w({...g(),page:1})},300)}),(i,s)=>(a(),o("div",U,[e("div",_,[e("div",F,[t.perPageOptions.length>0?(a(),o("div",K,[s[3]||(s[3]=e("label",{for:"per-page-select",class:"whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"}," Mostrar ",-1)),S(e("select",{id:"per-page-select","onUpdate:modelValue":s[0]||(s[0]=r=>n.value=r),onChange:P,class:"rounded-lg border border-gray-300 bg-white py-2 pl-3 pr-8 text-sm text-gray-700 focus:border-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200"},[(a(!0),o(h,null,f(t.perPageOptions,r=>(a(),o("option",{key:r,value:r},p(r),9,Q))),128))],544),[[z,n.value,void 0,{number:!0}]])])):u("",!0),e("div",R,[t.searchable?(a(),o("div",G,[e("div",I,[s[4]||(s[4]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1)),S(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>x.value=r),type:"text",placeholder:t.searchPlaceholder,class:"w-full rounded-lg border border-gray-300 bg-white py-2 pl-10 pr-4 text-sm text-gray-700 placeholder-gray-400 focus:border-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 dark:placeholder-gray-500"},null,8,J),[[L,x.value]])])])):u("",!0),t.allowCreate?(a(),o("div",W,[e("button",{onClick:s[2]||(s[2]=r=>i.$emit("create")),class:"ml-auto inline-flex items-center gap-1 rounded-lg bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"}," Nuevo ")])):u("",!0)])]),e("div",X,[b(i.$slots,"actions")])]),e("div",Y,[e("table",Z,[e("thead",null,[e("tr",ee,[(a(!0),o(h,null,f(t.columns,r=>(a(),o("th",{key:r.key,class:k(["px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",{"text-right":r.align==="right","text-center":r.align==="center"}]),style:M(r.width?{width:r.width}:{})},p(r.label),7))),128)),t.allowActions?(a(),o("th",te," Acciones ")):u("",!0)])]),e("tbody",re,[(a(!0),o(h,null,f(t.paginator.data,r=>(a(),o("tr",{key:r.id,class:"transition-colors hover:bg-gray-50 dark:hover:bg-white/[0.02]"},[(a(!0),o(h,null,f(t.columns,c=>(a(),o("td",{key:c.key,class:k(["whitespace-nowrap px-6 py-4 text-gray-700 dark:text-gray-300",{"text-right":c.align==="right","text-center":c.align==="center"}])},[b(i.$slots,`cell-${c.key}`,{item:r},()=>[y(p(r[c.key]),1)])],2))),128)),t.allowActions?(a(),o("td",ae,[b(i.$slots,"actionButtons",{item:r}),t.allowEdit?(a(),o("button",{key:0,onClick:c=>v("edit",r),title:"Editar",class:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-colors border border-blue-100 hover:border-blue-600"},[...s[5]||(s[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])],8,oe)):u("",!0),t.allowDelete?(a(),o("button",{key:1,onClick:c=>v("delete",r.id),title:"Eliminar",class:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-600 hover:text-white transition-colors border border-red-100 hover:border-red-600"},[...s[6]||(s[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,se)):u("",!0)])):u("",!0)]))),128)),t.paginator.data.length===0?(a(),o("tr",ne,[e("td",{colspan:t.columns.length,class:"px-6 py-12 text-center text-gray-400 dark:text-gray-500"},[b(i.$slots,"empty",{},()=>[s[7]||(s[7]=y(" No se encontraron resultados. ",-1))])],8,le)])):u("",!0)])])]),e("div",ie,[j(q,{paginator:t.paginator,only:t.only},null,8,["paginator","only"])])]))}};export{ue as _};
