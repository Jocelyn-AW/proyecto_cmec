import{o,g as s,d as e,f as y,t as p,F as x,q as h,n as b,j as g,s as B,x as $,z as j,ak as S,r as m,k as A,y as z,v as L,a as M,al as V}from"./app-IggChIWS.js";const O={key:0,class:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2 py-3"},N={class:"text-sm text-gray-500 dark:text-gray-400"},T={class:"font-medium text-gray-700 dark:text-gray-200"},D={class:"font-medium text-gray-700 dark:text-gray-200"},E={class:"font-medium text-gray-700 dark:text-gray-200"},H={class:"flex items-center gap-1"},q=["onClick","disabled","innerHTML"],U={__name:"Pagination",props:{paginator:{type:Object,required:!0},preserveScroll:{type:Boolean,default:!0},only:{type:Array,default:()=>[]}},setup(t){const f=t,i=c=>{if(!c)return;const n={preserveScroll:f.preserveScroll,preserveState:!0};f.only.length>0&&(n.only=f.only),B.get(c,{},n)},v=c=>c.includes("Previous")?"Anterior":c.includes("Next")?"Siguiente":c;return(c,n)=>t.paginator.last_page>1?(o(),s("div",O,[e("p",N,[n[0]||(n[0]=y(" Mostrando ",-1)),e("span",T,p(t.paginator.from),1),n[1]||(n[1]=y(" a ",-1)),e("span",D,p(t.paginator.to),1),n[2]||(n[2]=y(" de ",-1)),e("span",E,p(t.paginator.total),1),n[3]||(n[3]=y(" resultados ",-1))]),e("nav",H,[(o(!0),s(x,null,h(t.paginator.links,(u,w)=>(o(),s("button",{key:w,onClick:k=>i(u.url),disabled:!u.url,class:b(["inline-flex items-center justify-center min-w-[36px] h-9 px-3 text-sm font-medium rounded-lg transition-colors",[u.active?"bg-zinc-900 text-white dark:bg-white dark:text-zinc-900":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800",u.url?"cursor-pointer":"opacity-40 cursor-not-allowed"]]),innerHTML:v(u.label)},null,10,q))),128))])])):g("",!0)}},F={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},Q={class:"flex flex-col sm:flex-row items-center justify-between gap-4 px-6 py-4"},R={class:"flex grow justify-between items-center gap-3 w-full sm:w-auto"},_={key:0,class:"flex items-center gap-2"},G=["value"],I={class:"flex gap-4"},J={key:0,class:"w-full sm:w-80"},K={class:"relative"},W=["placeholder"],X={key:1},Y={class:"flex items-center gap-2"},Z={class:"overflow-x-auto"},ee={class:"w-full text-sm"},te={class:"border-y border-gray-200 dark:border-gray-800"},re={key:0,class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"},ae={class:"divide-y divide-gray-100 dark:divide-gray-800"},oe={key:0,class:"sticky whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},se=["onClick"],le=["onClick"],ne={key:0},ie=["colspan"],de={class:"border-t border-gray-200 px-4 dark:border-gray-800"},ce={__name:"DataTable",props:{paginator:{type:Object,required:!0},columns:{type:Array,required:!0},only:{type:Array,default:()=>[]},searchable:{type:Boolean,default:!1},searchParam:{type:String,default:"search"},searchPlaceholder:{type:String,default:"Buscar..."},perPageOptions:{type:Array,default:()=>[]},perPageParam:{type:String,default:"per_page"},filterValues:{type:Object,default:()=>({})},allowActions:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowEdit:{type:Boolean,default:!1},allowDelete:{type:Boolean,default:!1}},emits:["create","edit","delete"],setup(t,{emit:f}){const i=t,v=f,c=new URLSearchParams(window.location.search),n=$(i.perPageOptions.length>0&&Number(c.get(i.perPageParam))||i.paginator.per_page),u=$(c.get(i.searchParam)||""),w=()=>{const l={};u.value&&(l[i.searchParam]=u.value),i.perPageOptions.length>0&&(l[i.perPageParam]=n.value);for(const[a,r]of Object.entries(i.filterValues)){const d=S(r);d!==""&&d!==null&&d!==void 0&&(l[a]=d)}return l},k=(l,a={})=>{B.get(window.location.pathname,l,{preserveState:!0,preserveScroll:!0,only:i.only.length>0?i.only:void 0,replace:!0,...a})};let P=null;const C=l=>{clearTimeout(P),P=setTimeout(()=>k(l),300)};return j([u,()=>Object.values(i.filterValues).map(l=>S(l)),n],()=>{C({...w(),page:1})}),(l,a)=>(o(),s("div",F,[e("div",Q,[m(l.$slots,"filters"),e("div",R,[t.perPageOptions.length>0?(o(),s("div",_,[a[3]||(a[3]=e("label",{for:"per-page-select",class:"whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"}," Mostrar ",-1)),A(e("select",{id:"per-page-select","onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r),class:"rounded-lg border border-gray-300 bg-white py-2 pl-3 pr-8 text-sm text-gray-700 focus:border-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200"},[(o(!0),s(x,null,h(t.perPageOptions,r=>(o(),s("option",{key:r,value:r},p(r),9,G))),128))],512),[[z,n.value,void 0,{number:!0}]])])):g("",!0),e("div",I,[t.searchable?(o(),s("div",J,[e("div",K,[a[4]||(a[4]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1)),A(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>u.value=r),type:"text",placeholder:t.searchPlaceholder,class:"w-full rounded-lg border border-gray-300 bg-white py-2 pl-10 pr-4 text-sm text-gray-700 placeholder-gray-400 focus:border-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 dark:placeholder-gray-500"},null,8,W),[[L,u.value]])])])):g("",!0),t.allowCreate?(o(),s("div",X,[e("button",{onClick:a[2]||(a[2]=r=>l.$emit("create")),class:"ml-auto inline-flex items-center gap-1 rounded-lg bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"}," Nuevo ")])):g("",!0)])]),e("div",Y,[m(l.$slots,"actions")])]),e("div",Z,[e("table",ee,[e("thead",null,[e("tr",te,[(o(!0),s(x,null,h(t.columns,r=>(o(),s("th",{key:r.key,class:b(["px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",{"text-right":r.align==="right","text-center":r.align==="center"}]),style:V(r.width?{width:r.width}:{})},p(r.label),7))),128)),t.allowActions?(o(),s("th",re," Acciones ")):g("",!0)])]),e("tbody",ae,[(o(!0),s(x,null,h(t.paginator.data,r=>(o(),s("tr",{key:r.id,class:"transition-colors hover:bg-gray-50 dark:hover:bg-white/[0.02]"},[(o(!0),s(x,null,h(t.columns,d=>(o(),s("td",{key:d.key,class:b(["whitespace-nowrap px-6 py-4 text-gray-700 dark:text-gray-300",{"text-right":d.align==="right","text-center":d.align==="center"}])},[m(l.$slots,`cell-${d.key}`,{item:r},()=>[y(p(r[d.key]),1)])],2))),128)),t.allowActions?(o(),s("td",oe,[m(l.$slots,"actionButtons",{item:r}),t.allowEdit?(o(),s("button",{key:0,onClick:d=>v("edit",r),title:"Editar",class:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-colors border border-blue-100 hover:border-blue-600"},[...a[5]||(a[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])],8,se)):g("",!0),t.allowDelete?(o(),s("button",{key:1,onClick:d=>v("delete",r.id),title:"Eliminar",class:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-600 hover:text-white transition-colors border border-red-100 hover:border-red-600"},[...a[6]||(a[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,le)):g("",!0)])):g("",!0)]))),128)),t.paginator.data.length===0?(o(),s("tr",ne,[e("td",{colspan:t.columns.length+(t.allowActions?1:0),class:"px-6 py-12 text-center text-gray-400 dark:text-gray-500"},[m(l.$slots,"empty",{},()=>[a[7]||(a[7]=y(" No se encontraron resultados. ",-1))])],8,ie)])):g("",!0)])])]),e("div",de,[M(U,{paginator:t.paginator,only:t.only},null,8,["paginator","only"])])]))}};export{ce as _};
