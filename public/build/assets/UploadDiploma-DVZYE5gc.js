import{_ as m}from"./Modal-Cg_LryEg.js";import{_ as u,a as g}from"./useImageDropped-Dl2EBpdt.js";import{c as f,w as t,d as r,a as h,b as a,t as b,f as v,s as D,o as w}from"./app-HE2xJTpK.js";const _={class:"p-6 space-y-4"},x=["disabled"],y=["disabled"],F={__name:"UploadDiploma",props:{show:{type:Boolean,default:!1},diplomaUrl:{type:String,default:""},attendee:{type:Object,default:()=>({})}},emits:["close"],setup(s,{emit:d}){const p=s,n=d,e=g({acceptedTypes:["application/pdf"],maxSizeMB:5,onError:o=>alert(o)}),c=()=>{if(!e.file.value){alert("Por favor selecciona un archivo PDF");return}const o=new FormData;o.append("diploma",e.file.value),D.post(route("attendees.upload-diploma",p.attendee.id),o,{forceFormData:!0,onSuccess:()=>{e.reset(),n("close")},onError:()=>{alert("Error al subir el diploma. Por favor intenta de nuevo.")}})},i=()=>{e.reset(),n("close")};return(o,l)=>(w(),f(m,{show:s.show,onClose:i,maxWidth:"2xl"},{title:t(()=>[...l[0]||(l[0]=[v(" Agregar diploma ",-1)])]),footer:t(()=>[r("button",{onClick:i,disabled:o.isSubmitting,class:"rounded-md border border-transparent py-2 px-4 text-sm text-slate-600 transition-all hover:bg-slate-100 disabled:opacity-50"}," Cancelar ",8,x),r("button",{onClick:c,disabled:!a(e).file.value,class:"rounded-md bg-green-600 py-2 px-4 text-sm text-white transition-all shadow-md hover:bg-green-700 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},b(o.isSubmitting?"Agregando diploma...":"Agregar diploma"),9,y)]),default:t(()=>[r("div",_,[h(u,{preview:a(e).preview.value,"is-dragging":a(e).isDragging.value,accept:"application/pdf",label:"Arrastra tu PDF aqui o haz clic para seleccionar",hint:"PDF (max. 5MB)",onChange:a(e).handleChange,onDrop:a(e).handleDrop,onDragEnter:a(e).handleDragEnter,onDragLeave:a(e).handleDragLeave,onRemove:a(e).reset},null,8,["preview","is-dragging","onChange","onDrop","onDragEnter","onDragLeave","onRemove"])])]),_:1},8,["show"]))}};export{F as default};
