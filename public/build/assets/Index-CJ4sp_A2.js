import{_ as C}from"./AuthenticatedLayout-CaTRCdLV.js";import{I as V,g as z,a as g,b as t,h as T,d as o,w as l,t as i,f as d,F as $,J as q,s as p,o as D}from"./app-CJcVuNXu.js";import{u as H}from"./useAlert-CPntgZJN.js";import{_ as O}from"./Alerta-BYvpDEkQ.js";import{_ as B}from"./DataTable-C30DH5Gq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-D_An1f9T.js";const M={class:"p-6 border-t border-gray-100 dark:border-gray-800 sm:p-6"},A={class:"space-y-5"},E=["href"],S=["onClick"],j=["onClick"],K=Object.assign({layout:C},{__name:"Index",props:{courses:{type:Object,default:()=>({})},flash:{type:Object,default:()=>({})},auth:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})}},setup(m){const{alertState:s,success:b,errorA:f,warning:h,hideAlert:u}=H(),n=m,c=q();V(()=>{(c.props.success||n.flash.success)&&b(c.props.success||n.flash.success),(c.props.error||n.flash.error)&&f(c.props.error||n.flash.error),(c.props.warning||n.flash.warning)&&h(c.props.warning||n.flash.warning)});const v=()=>{p.get(route("courses.new"))},w=a=>{p.get(route("courses.edit",a.id),{},{preserveState:!1})},x=a=>{h("¿Confirma que desea eliminar este curso? Esta acción no se puede deshacer.",{title:"Eliminar curso",buttonText:"Sí, eliminar",cancelText:"Cancelar",onConfirm:()=>{u(),p.delete(route("courses.delete",a))}})},y=a=>{a.program_url?window.open(a.program_url,"_blank"):h("Este curso no tiene un programa PDF asociado.",{title:"Sin programa",buttonText:"Aceptar"})},_=a=>{p.get(route("courses.gallery",a.id))};return(a,r)=>(D(),z($,null,[g(t(T),{title:"Cursos"}),o("div",M,[o("div",A,[r[5]||(r[5]=o("div",{class:""},[o("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Cursos"),o("p",{class:"text-sm text-gray-500"},"Administra los cursos de tu aplicación desde esta sección")],-1)),g(B,{columns:[{label:"ID",key:"id"},{label:"Título",key:"topic"},{label:"Fecha",key:"date"},{label:"Descripción",key:"description"},{label:"Duración",key:"duration"},{label:"Organiza",key:"organized_by"},{label:"Costo Miembro",key:"member_price"},{label:"Link",key:"link"}],paginator:n.courses,searchable:!0,"per-page-options":[5,10,15],"allow-create":!0,"allow-actions":!0,"allow-edit":!0,"allow-delete":!0,onCreate:v,onEdit:w,onDelete:x,only:["courses"]},{"cell-date":l(({item:e})=>[d(i(new Date(e.date).toLocaleDateString("en-GB")),1)]),"cell-duration":l(({item:e})=>[d(i(e.duration)+" "+i(e.duration>1?"horas":"hora"),1)]),"cell-member_price":l(({item:e})=>[d(" $"+i(e.member_price??""),1)]),"cell-resident_price":l(({item:e})=>[d(" $"+i(e.resident_price??""),1)]),"cell-guest_price":l(({item:e})=>[d(" $"+i(e.guest_price??""),1)]),"cell-link":l(({item:e})=>[o("a",{href:e.link,class:"text-blue-800"},i(e.link),9,E)]),actionButtons:l(({item:e})=>[o("button",{title:"Ver Pdf",onClick:k=>y(e),class:"p-2 rounded-lg bg-red-20 text-red-500 hover:bg-red-600 hover:text-white transition-colors border border-red-100 hover:border-red-600"},[...r[3]||(r[3]=[o("svg",{width:"18",height:"18",fill:"currentcolor",class:"bi bi-filetype-pdf text-8xl w-4 h-4 dark:text-stone-200",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"})],-1)])],8,S),o("button",{title:"Ver galería",onClick:k=>_(e),class:"p-2 rounded-lg bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white transition-colors border border-indigo-100 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white"},[...r[4]||(r[4]=[o("svg",{width:"18",height:"18",fill:"currentColor",class:"text-8xl w-4 h-4",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M13 10V0H0v13h13zM1 1h11v8h-.755L8.681 5.681 7.522 6.895 5.274 3.014 1.698 9H1zm8.982 8H2.863l2.398-4.014L7.325 8.55 8.6 7.213zM1 12v-2h11v2zm16-9v13H4v-1.984h1V15h11V4h-2V3z"})],-1)])],8,j)]),_:1},8,["paginator"])])]),g(O,{show:t(s).show,message:t(s).message,title:t(s).title,type:t(s).type,buttonText:t(s).buttonText,cancelText:t(s).cancelText,onConfirm:r[0]||(r[0]=e=>t(s).onConfirm?t(s).onConfirm():t(u)()),onCancel:r[1]||(r[1]=e=>t(s).onCancel?t(s).onCancel():t(u)()),onClose:r[2]||(r[2]=e=>t(u)())},null,8,["show","message","title","type","buttonText","cancelText"])],64))}});export{K as default};
