import{H as N,A as M,y as w,c as S,w as k,d as t,t as i,j as n,o as u,g as a,F as A,m as E,s as g,x as d,i as p,I as F,k as O,p as B}from"./app-DK0nqKl3.js";import{_ as P}from"./AuthenticatedLayout-huTq0u-n.js";import{u as L}from"./useAlert-UeAE-bRV.js";import{_ as T}from"./Drawer-B1efHIwe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-1ZfZOzJW.js";const $={class:"space-y-4"},D={class:"block text-sm font-medium text-gray-700 mb-1"},R=["value"],G={key:0,class:"text-red-500 text-xs flex justify-end"},H={key:0,class:"text-red-500 text-xs flex justify-end"},I={key:0,class:"text-red-500 text-xs flex justify-end"},z={class:"flex gap-2 w-full"},J={key:0,class:"text-red-500 text-xs flex justify-end"},K={key:0,class:"text-red-500 text-xs flex justify-end"},Q={key:0},W={key:0,class:"text-red-500 text-xs flex justify-end"},X={class:"flex gap-2 w-full"},Y={key:0,class:"text-red-500 text-xs flex justify-end"},Z={class:"flex justify-end gap-2"},le=Object.assign({layout:P},{__name:"CreateAttendee",props:{events:{type:Object,default:()=>({})},eventName:{type:String,default:""},show:{type:Boolean,default:!1},flash:{type:Object,default:()=>({})},auth:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})}},emits:["close","success","error"],setup(y,{emit:_}){const{success:C,errorA:j,warning:V}=L(),r=y,m=F(),l=O(()=>m.props.errors||r.errors||{}),b=_;N(()=>{(m.props.success||r.flash.success)&&C(m.props.success||r.flash.success),(m.props.error||r.flash.error)&&j(m.props.error||r.flash.error),(m.props.warning||r.flash.warning)&&V(m.props.warning||r.flash.warning)});const x=(f=5)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let o="";for(let c=0;c<f;c++)o+=e.charAt(Math.floor(Math.random()*e.length));return o},s=M({name:"",email:"",phone:"",event_id:"",event_type:r.eventName.toLowerCase(),state:"",city:"",person_type:"",folio:x(),status:"",price:"",cmec_member_id:null}),v=()=>{s.name="",s.email="",s.phone="",s.event_id="",s.event_type=r.eventName.toLowerCase(),s.state="",s.city="",s.person_type="",s.folio=x(),s.status="",s.cmec_member_id=null,s.price=""},U=()=>{switch(s.event_type){case"curso":s.event_type="course";break;case"congreso":s.event_type="conference";break;case"webinar":s.event_type="webinar";break;default:s.event_type="course"}B.post(route("attendees.store"),s,{onSuccess:()=>{v(),b("success")},onError:()=>{}})};return w(()=>s.person_type,f=>{f&&(f==="member"?s.cmec_member_id="":s.cmec_member_id=null)}),w(()=>r.show,f=>{f&&v()}),(f,e)=>(u(),S(T,{show:y.show,size:"xl",onClose:e[12]||(e[12]=o=>b("close"))},{footer:k(()=>[t("div",Z,[t("button",{type:"button",class:"rounded-lg border px-4 py-2 text-sm text-gray-600 hover:bg-gray-50",onClick:e[11]||(e[11]=o=>b("close"))}," Cancelar "),t("button",{type:"button",class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",onClick:U}," Guardar ")])]),default:k(()=>[t("div",$,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Nuevo participante",-1)),t("div",null,[t("label",D,i(r.eventName),1),n(t("select",{name:"event_id",id:"event_id","onUpdate:modelValue":e[0]||(e[0]=o=>s.event_id=o),class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[13]||(e[13]=t("option",{value:""},"Seleccionar curso",-1)),(u(!0),a(A,null,E(y.events,(o,c)=>(u(),a("option",{key:c,value:c},i(o),9,R))),128))],512),[[g,s.event_id]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre médico (se mostrará en el diploma)",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.name=o),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,s.name]]),l.value?.name?(u(),a("span",G,i(l.value?.name),1)):p("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Correo electrónico",-1)),n(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.email=o),type:"email",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,s.email]]),l.value?.email?(u(),a("span",H,i(l.value?.email),1)):p("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Teléfono",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.phone=o),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,s.phone]]),l.value?.phone?(u(),a("span",I,i(l.value?.phone),1)):p("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Origen",-1)),t("div",z,[n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.city=o),type:"text",class:"grow rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ciudad"},null,512),[[d,s.city]]),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>s.state=o),type:"text",class:"grow rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Estado"},null,512),[[d,s.state]])]),l.value?.city||l.value?.state?(u(),a("span",J,i(l.value?.city||l.value?.state),1)):p("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tipo de participante",-1)),n(t("select",{name:"person_type",id:"person_type","onUpdate:modelValue":e[6]||(e[6]=o=>s.person_type=o),class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[18]||(e[18]=[t("option",{value:"",selected:""},"Seleccionar tipo",-1),t("option",{value:"member"},"Miembro CMEC",-1),t("option",{value:"resident"},"Residente del colegio",-1),t("option",{value:"guest"},"No miembro (invitado)",-1)])],512),[[g,s.person_type]]),l.value?.person_type?(u(),a("span",K,i(l.value?.person_type),1)):p("",!0)]),s.person_type=="member"?(u(),a("div",Q,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Folio de miembro CMEC",-1)),n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>s.cmec_member_id=o),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,s.cmec_member_id]]),l.value?.cmec_member_id?(u(),a("span",W,i(l.value?.cmec_member_id),1)):p("",!0)])):p("",!0),e[25]||(e[25]=t("hr",{class:"my-2"},null,-1)),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Estatus de Pago",-1)),t("div",X,[n(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.price=o),type:"number",min:"0",step:"0.01",class:"grow rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Cantidad a pagar"},null,512),[[d,s.price]]),n(t("select",{name:"status",id:"status","onUpdate:modelValue":e[9]||(e[9]=o=>s.status=o),class:"rounded-lg grow border border-gray-300 px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[21]||(e[21]=[t("option",{value:"",selected:""},"Seleccionar estatus",-1),t("option",{value:"paid"},"Pagado",-1),t("option",{value:"pending"},"Pendiente",-1)])],512),[[g,s.status]])]),l.value?.status?(u(),a("span",Y,i(l.value?.status),1)):p("",!0)]),e[26]||(e[26]=t("hr",{class:"my-2"},null,-1)),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Folio de Acceso",-1)),n(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.folio=o),type:"text",disabled:"",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 cursor-not-allowed"},null,512),[[d,s.folio]])])])]),_:1},8,["show"]))}});export{le as default};
