import{g as i,a as d,b as r,h as T,d as t,t as v,f as x,F as A,q as j,x as b,o as u,s as w}from"./app-Cw2X6vIM.js";import{_ as M}from"./AuthenticatedLayout-DcpCYniF.js";import{_ as N}from"./Alerta-DNU2ToJl.js";import{u as S}from"./useAlert-B_YYPEqA.js";import z from"./BankDetailsCreate-D6RdBg2H.js";import V from"./BankDetailsEdit-BphdzlE8.js";import I from"./BankDetailsListItem-wsVtycPG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BNMIb7Ie.js";import"./Modal-BELY_Vij.js";const F={class:"p-6 border-t border-gray-100 dark:border-gray-800 sm:p-6 lg:p-8"},O={class:"space-y-5"},R={class:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden"},U={class:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-800"},W={class:"text-xs text-gray-400 mt-0.5"},_={key:0},q={key:1,class:"flex flex-col items-center justify-center gap-3 py-16"},ee=Object.assign({layout:M},{__name:"Index",props:{bankDetails:{type:Array,default:()=>[]}},setup(h){const o=h,{alertState:n,success:g,errorA:f,warning:p,info:y}=S(),m=b(!1),c=b({}),k=()=>{n.value.onConfirm?.(),n.value.show=!1},C=()=>{n.value.onCancel?.(),n.value.show=!1},E=l=>{p("¿Estás seguro de eliminar esta cuenta bancaria?",{title:"Eliminar cuenta",buttonText:"Eliminar",cancelText:"Cancelar",onConfirm:()=>{w.delete(`/bankdetails/${l}`,{preserveScroll:!0,onSuccess:()=>g("Cuenta bancaria eliminada correctamente"),onError:()=>f("Error al eliminar la cuenta bancaria")})}})},$=l=>{Object.entries(c.value).forEach(([e,a])=>{Number(e)!==l.id&&a?.close()}),c.value[l.id]?.open()},D=()=>{w.reload({only:["bankDetails"],preserveScroll:!0}),g("Cuenta bancaria actualizada correctamente")};return(l,e)=>(u(),i("div",null,[d(r(T),{title:"Cuentas Bancarias"}),t("div",F,[t("div",O,[e[15]||(e[15]=t("div",null,[t("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Cuentas Bancarias"),t("p",{class:"text-sm text-gray-500"},"Referencias de pago registradas")],-1)),t("div",R,[t("div",U,[t("div",null,[e[10]||(e[10]=t("h4",{class:"text-sm font-semibold text-gray-800 dark:text-white/90"}," Información bancaria guardada ",-1)),t("p",W,v(o.bankDetails.length)+" "+v(o.bankDetails.length===1?"cuenta registrada":"cuentas registradas"),1)]),t("button",{onClick:e[0]||(e[0]=a=>m.value=!0),class:"inline-flex items-center gap-1.5 rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 shadow-sm transition-colors"},[...e[11]||(e[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1),x(" Agregar cuenta ",-1)])])]),o.bankDetails.length>0?(u(),i("div",_,[(u(!0),i(A,null,j(o.bankDetails,(a,B)=>(u(),i("div",{key:a.id},[d(I,{item:a,"is-last":B===o.bankDetails.length-1,onEdit:$,onDelete:E},null,8,["item","is-last"]),d(V,{ref_for:!0,ref:s=>{s&&(c.value[a.id]=s)},item:a,onUpdated:D,onError:e[1]||(e[1]=s=>r(f)(s)),onWarning:e[2]||(e[2]=s=>r(p)(s))},null,8,["item"])]))),128))])):(u(),i("div",q,[e[13]||(e[13]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-10 h-10 text-gray-300 dark:text-gray-600"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})],-1)),e[14]||(e[14]=t("p",{class:"text-sm text-gray-400 dark:text-gray-500"},"No hay cuentas bancarias registradas",-1)),t("button",{onClick:e[3]||(e[3]=a=>m.value=!0),class:"inline-flex h-10 shrink-0 justify-center items-center gap-2 rounded-lg bg-green-600 text-white px-4 text-sm font-medium hover:bg-green-700 transition-colors shadow-sm"},[...e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1),x(" Agregar una cuenta bancaria ",-1)])])]))])])]),d(z,{show:m.value,onClose:e[4]||(e[4]=a=>m.value=!1),onCreated:e[5]||(e[5]=a=>r(g)("Cuenta bancaria creada correctamente")),onWarning:e[6]||(e[6]=a=>r(p)(a)),onError:e[7]||(e[7]=a=>r(f)(a)),onInfo:e[8]||(e[8]=a=>r(y)(a))},null,8,["show"]),d(N,{show:r(n).show,message:r(n).message,title:r(n).title,type:r(n).type,buttonText:r(n).buttonText,cancelText:r(n).cancelText,onConfirm:k,onCancel:C,onClose:e[9]||(e[9]=a=>r(n).show=!1)},null,8,["show","message","title","type","buttonText","cancelText"])]))}});export{ee as default};
