import{_ as V}from"./AuthenticatedLayout-DcpCYniF.js";import{I as T,g as $,a as m,b as o,h as q,d as r,w as n,t as l,n as b,f as p,F as D,J as H,s as u,o as O}from"./app-Cw2X6vIM.js";import{u as B}from"./useAlert-B_YYPEqA.js";import{_ as M}from"./Alerta-DNU2ToJl.js";import{_ as A}from"./DataTable-C5yTvIul.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BNMIb7Ie.js";const E={class:"p-6 border-t border-gray-100 dark:border-gray-800 sm:p-6"},S={class:"space-y-5"},j=["href"],G=["onClick"],F=["onClick"],Q=Object.assign({layout:V},{__name:"Index",props:{courses:{type:Object,default:()=>({})},flash:{type:Object,default:()=>({})},auth:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})}},setup(f){const{alertState:a,success:x,errorA:v,warning:g,hideAlert:d}=B(),i=f,c=H();T(()=>{(c.props.success||i.flash.success)&&x(c.props.success||i.flash.success),(c.props.error||i.flash.error)&&v(c.props.error||i.flash.error),(c.props.warning||i.flash.warning)&&g(c.props.warning||i.flash.warning)});const w=()=>{u.get(route("courses.new"))},y=s=>{u.get(route("courses.edit",s.id),{},{preserveState:!1})},_=s=>{g("¿Confirma que desea eliminar este curso? Esta acción no se puede deshacer.",{title:"Eliminar curso",buttonText:"Sí, eliminar",cancelText:"Cancelar",onConfirm:()=>{d(),u.delete(route("courses.delete",s))}})},k=s=>{s.program_url?window.open(s.program_url,"_blank"):g("Este curso no tiene un programa PDF asociado.",{title:"Sin programa",buttonText:"Aceptar"})},C=s=>{u.get(route("courses.gallery",s.id))},h=(s,t=50)=>s?s.length>t?s.substring(0,t)+"...":s:"";return(s,t)=>(O(),$(D,null,[m(o(q),{title:"Cursos"}),r("div",E,[r("div",S,[t[5]||(t[5]=r("div",{class:""},[r("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Cursos"),r("p",{class:"text-sm text-gray-500"},"Administra los cursos de tu aplicación desde esta sección")],-1)),m(A,{columns:[{label:"ID",key:"id"},{label:"Título",key:"topic"},{label:"Fecha",key:"date"},{label:"Descripción",key:"description"},{label:"Duración",key:"duration"},{label:"Organiza",key:"organized_by"},{label:"Costo Miembro",key:"member_price"},{label:"Costo Residente",key:"resident_price"},{label:"Costo Invitado",key:"guest_price"},{label:"Link",key:"link"}],paginator:i.courses,searchable:!0,"per-page-options":[5,10,15],"allow-create":!0,"allow-actions":!0,"allow-edit":!0,"allow-delete":!0,onCreate:w,onEdit:y,onDelete:_,only:["courses"]},{"cell-topic":n(({item:e})=>[p(l(h(e.topic,25)),1)]),"cell-description":n(({item:e})=>[p(l(h(e.description,40)),1)]),"cell-date":n(({item:e})=>[p(l(new Date(e.date).toLocaleDateString("en-GB")),1)]),"cell-duration":n(({item:e})=>[p(l(e.duration)+" "+l(e.duration>1?"horas":"hora"),1)]),"cell-member_price":n(({item:e})=>[r("span",{class:b(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize",e.member_price=="0.00"?"bg-emerald-200 text-emerald-700":"bg-indigo-200 text-indigo-700"])},l(e.member_price==="0.00"?"Gratis":"$"+e.member_price),3)]),"cell-resident_price":n(({item:e})=>[r("span",{class:b(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize",e.resident_price=="0.00"?"bg-emerald-200 text-emerald-700":"bg-sky-200 text-sky-700"])},l(e.resident_price==="0.00"?"Gratis":"$"+e.resident_price),3)]),"cell-guest_price":n(({item:e})=>[r("span",{class:b(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize",e.guest_price=="0.00"?"bg-emerald-200 text-emerald-700":"bg-sky-200 text-sky-700"])},l(e.guest_price==="0.00"?"Gratis":"$"+e.guest_price),3)]),"cell-link":n(({item:e})=>[r("a",{href:e.link,class:"text-blue-800"},l(h(e.link,20)),9,j)]),actionButtons:n(({item:e})=>[r("button",{title:"Ver Pdf",onClick:z=>k(e),class:"p-2 rounded-lg bg-red-20 text-red-500 hover:bg-red-600 hover:text-white transition-colors border border-red-100 hover:border-red-600"},[...t[3]||(t[3]=[r("svg",{width:"18",height:"18",fill:"currentcolor",class:"bi bi-filetype-pdf text-8xl w-4 h-4 dark:text-stone-200",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"})],-1)])],8,G),r("button",{title:"Ver galería",onClick:z=>C(e),class:"p-2 rounded-lg bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white transition-colors border border-indigo-100 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white"},[...t[4]||(t[4]=[r("svg",{width:"18",height:"18",fill:"currentColor",class:"text-8xl w-4 h-4",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M13 10V0H0v13h13zM1 1h11v8h-.755L8.681 5.681 7.522 6.895 5.274 3.014 1.698 9H1zm8.982 8H2.863l2.398-4.014L7.325 8.55 8.6 7.213zM1 12v-2h11v2zm16-9v13H4v-1.984h1V15h11V4h-2V3z"})],-1)])],8,F)]),_:1},8,["paginator"])])]),m(M,{show:o(a).show,message:o(a).message,title:o(a).title,type:o(a).type,buttonText:o(a).buttonText,cancelText:o(a).cancelText,onConfirm:t[0]||(t[0]=e=>o(a).onConfirm?o(a).onConfirm():o(d)()),onCancel:t[1]||(t[1]=e=>o(a).onCancel?o(a).onCancel():o(d)()),onClose:t[2]||(t[2]=e=>o(d)())},null,8,["show","message","title","type","buttonText","cancelText"])],64))}});export{Q as default};
