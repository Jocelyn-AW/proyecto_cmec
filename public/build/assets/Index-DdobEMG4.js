import{_ as V}from"./AuthenticatedLayout-CsDyOoFW.js";import{E as T,g as q,a as f,b as o,h as A,d as s,w as n,n as u,t as i,f as m,F as D,G as H,s as g,o as O}from"./app-IggChIWS.js";import{u as E}from"./useAlert-GbgKIWpm.js";import{_ as S}from"./Alerta-CjNrtwdw.js";import{_ as B}from"./DataTable-2YN-GWnB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BoklzHPy.js";const M={class:"p-6 border-t border-gray-100 dark:border-gray-800 sm:p-6"},G={class:"space-y-5"},j=["href"],F=["onClick"],L=["onClick"],P=["onClick"],W=Object.assign({layout:V},{__name:"Index",props:{courses:{type:Object,default:()=>({})},flash:{type:Object,default:()=>({})},auth:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})}},setup(v){const{alertState:a,success:x,errorA:_,warning:h,hideAlert:d}=E(),l=v,c=H();T(()=>{(c.props.success||l.flash.success)&&x(c.props.success||l.flash.success),(c.props.error||l.flash.error)&&_(c.props.error||l.flash.error),(c.props.warning||l.flash.warning)&&h(c.props.warning||l.flash.warning)});const w=()=>{g.get(route("courses.new"))},y=r=>{g.get(route("courses.edit",r.id),{},{preserveState:!1})},k=r=>{h("¿Confirma que desea eliminar este curso? Esta acción no se puede deshacer.",{title:"Eliminar curso",buttonText:"Sí, eliminar",cancelText:"Cancelar",onConfirm:()=>{d(),g.delete(route("courses.delete",r))}})},C=r=>{r.program_url?window.open(r.program_url,"_blank"):h("Este curso no tiene un programa PDF asociado.",{title:"Sin programa",buttonText:"Aceptar"})},z=r=>{g.get(route("courses.gallery",r.id))},b=(r,t=50)=>r?r.length>t?r.substring(0,t)+"...":r:"",$=r=>{let t="desactivar",e="Desactivar",p="Al hacerlo ya no podrá registrar más asistentes.";r.is_active||(t="activar",e="Activar",p="Al hacerlo podrá volver a registrar asistentes."),h(`¿Confirma que desea ${t} este curso? ${p} `,{title:`${e} curso`,buttonText:`Sí, ${t}`,cancelText:"Cancelar",onConfirm:()=>{d(),g.get(route("courses.change-status",r.id))}})};return(r,t)=>(O(),q(D,null,[f(o(A),{title:"Cursos"}),s("div",M,[s("div",G,[t[5]||(t[5]=s("div",{class:""},[s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Cursos"),s("p",{class:"text-sm text-gray-500"},"Administra los cursos de tu aplicación desde esta sección")],-1)),f(B,{columns:[{label:"Título",key:"topic"},{label:"Fecha",key:"date"},{label:"Descripción",key:"description"},{label:"Duración",key:"duration"},{label:"Organiza",key:"organized_by"},{label:"Costo Miembro",key:"member_price"},{label:"Costo Residente",key:"resident_price"},{label:"Costo Invitado",key:"guest_price"},{label:"Link",key:"link"},{label:"Estatus",key:"is_active"}],paginator:l.courses,searchable:!0,"per-page-options":[5,10,15],"allow-create":!0,"allow-actions":!0,"allow-edit":!0,"allow-delete":!0,onCreate:w,onEdit:y,onDelete:k,only:["courses"]},{"cell-topic":n(({item:e})=>[m(i(b(e.topic,25)),1)]),"cell-description":n(({item:e})=>[m(i(b(e.description,40)),1)]),"cell-date":n(({item:e})=>[m(i(new Date(e.date).toLocaleDateString("en-GB")),1)]),"cell-duration":n(({item:e})=>[m(i(e.duration)+" "+i(e.duration>1?"horas":"hora"),1)]),"cell-member_price":n(({item:e})=>[s("span",{class:u(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize",e.member_price=="0.00"?"bg-emerald-200 text-emerald-700":"bg-indigo-200 text-indigo-700"])},i(e.member_price==="0.00"?"Gratis":"$"+e.member_price),3)]),"cell-resident_price":n(({item:e})=>[s("span",{class:u(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize",e.resident_price=="0.00"?"bg-emerald-200 text-emerald-700":"bg-sky-200 text-sky-700"])},i(e.resident_price==="0.00"?"Gratis":"$"+e.resident_price),3)]),"cell-guest_price":n(({item:e})=>[s("span",{class:u(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize",e.guest_price=="0.00"?"bg-emerald-200 text-emerald-700":"bg-sky-200 text-sky-700"])},i(e.guest_price==="0.00"?"Gratis":"$"+e.guest_price),3)]),"cell-link":n(({item:e})=>[s("a",{href:e.link,class:"text-blue-800"},i(b(e.link,20)),9,j)]),"cell-is_active":n(({item:e})=>[s("span",{role:"button",onClick:p=>$(e),class:u(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium capitalize",e.is_active?"bg-emerald-200 text-emerald-700 hover:bg-emerald-300":"bg-orange-200 text-orange-700 hover:bg-orange-300"])},i(e.is_active?"Activo":"Inactivo"),11,F)]),actionButtons:n(({item:e})=>[s("button",{title:"Ver Pdf",onClick:p=>C(e),class:u(["p-2 rounded-lg",e.program_url==null||e.program_url==""?"bg-red-20 text-red-500 transition-colors border border-red-100 hover:bg-red-600 hover:text-white hover:border-red-600":"bg-red-400 text-white transition-colors border border-red-400 hover:bg-red-600 hover:text-white hover:border-red-600"])},[...t[3]||(t[3]=[s("svg",{width:"18",height:"18",fill:"currentcolor",class:"bi bi-filetype-pdf text-8xl w-4 h-4 dark:text-stone-200",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"})],-1)])],10,L),s("button",{title:"Ver galería",onClick:p=>z(e),class:"p-2 rounded-lg bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white transition-colors border border-indigo-100 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white"},[...t[4]||(t[4]=[s("svg",{width:"18",height:"18",fill:"currentColor",class:"text-8xl w-4 h-4",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M13 10V0H0v13h13zM1 1h11v8h-.755L8.681 5.681 7.522 6.895 5.274 3.014 1.698 9H1zm8.982 8H2.863l2.398-4.014L7.325 8.55 8.6 7.213zM1 12v-2h11v2zm16-9v13H4v-1.984h1V15h11V4h-2V3z"})],-1)])],8,P)]),_:1},8,["paginator"])])]),f(S,{show:o(a).show,message:o(a).message,title:o(a).title,type:o(a).type,buttonText:o(a).buttonText,cancelText:o(a).cancelText,onConfirm:t[0]||(t[0]=e=>o(a).onConfirm?o(a).onConfirm():o(d)()),onCancel:t[1]||(t[1]=e=>o(a).onCancel?o(a).onCancel():o(d)()),onClose:t[2]||(t[2]=e=>o(d)())},null,8,["show","message","title","type","buttonText","cancelText"])],64))}});export{W as default};
